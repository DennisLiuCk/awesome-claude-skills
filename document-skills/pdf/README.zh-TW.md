# PDF - PDF æ–‡ä»¶è™•ç†æ­£é«”ä¸­æ–‡èªªæ˜æ–‡ä»¶

## ğŸ“‹ ç›®éŒ„
- [Skill æ¦‚è¿°](#skill-æ¦‚è¿°)
- [ç›®éŒ„çµæ§‹](#ç›®éŒ„çµæ§‹)
- [æª”æ¡ˆèªªæ˜](#æª”æ¡ˆèªªæ˜)
- [é—œéµè…³æœ¬åˆ†æ](#é—œéµè…³æœ¬åˆ†æ)
- [è¨­è¨ˆç­–ç•¥](#è¨­è¨ˆç­–ç•¥)
- [Claude Code ä½¿ç”¨æ–¹å¼](#claude-code-ä½¿ç”¨æ–¹å¼)
- [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
- [ä½¿ç”¨çš„ Prompt ç­–ç•¥](#ä½¿ç”¨çš„-prompt-ç­–ç•¥)
- [ä½¿ç”¨çš„å·¥å…·](#ä½¿ç”¨çš„å·¥å…·-tools)
- [æœ€ä½³å¯¦è¸](#æœ€ä½³å¯¦è¸)
- [ç¸½çµ](#ç¸½çµ)

---

## Skill æ¦‚è¿°

### é€™å€‹ Skill çš„åŠŸèƒ½
PDF æ˜¯ä¸€å€‹ç¶œåˆæ€§çš„ PDF æ–‡ä»¶è™•ç†å·¥å…·å¥—ä»¶ï¼Œæä¾› PDF çš„å»ºç«‹ã€ç·¨è¼¯ã€åˆ†æå’Œè¡¨å–®å¡«å¯«åŠŸèƒ½ã€‚å®ƒæ•´åˆäº†å¤šå€‹ Python åº«å’Œå‘½ä»¤åˆ—å·¥å…·ï¼Œä½¿ Claude èƒ½å¤ ï¼š
- æå– PDF æ–‡å­—å’Œè¡¨æ ¼
- å»ºç«‹æ–°çš„ PDF æ–‡ä»¶
- åˆä½µå’Œåˆ†å‰² PDF
- å¡«å¯« PDF è¡¨å–®ï¼ˆåŒ…æ‹¬éäº’å‹•å¼è¡¨å–®ï¼‰
- æå–å…ƒè³‡æ–™å’Œåœ–ç‰‡
- æ—‹è½‰ã€åŠ å¯†å’Œæ·»åŠ æµ®æ°´å°
- è¦–è¦ºåŒ–é©—è­‰è¡¨å–®å¡«å¯«çµæœ

### è§£æ±ºçš„å•é¡Œ
åœ¨è™•ç† PDF æ–‡ä»¶æ™‚ï¼Œç¶“å¸¸é‡åˆ°ä»¥ä¸‹æŒ‘æˆ°ï¼š

1. **è¡¨å–®å¡«å¯«å›°é›£**ï¼šè¨±å¤š PDF è¡¨å–®æ²’æœ‰å¯äº’å‹•æ¬„ä½ï¼ˆfillable fieldsï¼‰ï¼Œç„¡æ³•ç›´æ¥å¡«å¯«
2. **åº§æ¨™å°æ‡‰è¤‡é›œ**ï¼šå°‡è¦–è¦ºä½ç½®è½‰æ›ç‚º PDF åº§æ¨™ç³»çµ±éœ€è¦ç²¾ç¢ºè¨ˆç®—
3. **æ–‡å­—æå–å“è³ª**ï¼šæƒæç‰ˆ PDF éœ€è¦ OCRï¼Œæ ¼å¼åŒ–æ–‡å­—éœ€è¦ä¿ç•™ç‰ˆé¢
4. **è¡¨æ ¼è¾¨è­˜æŒ‘æˆ°**ï¼šå¾ PDF ä¸­æå–çµæ§‹åŒ–è¡¨æ ¼è³‡æ–™
5. **è¦–è¦ºé©—è­‰éœ€æ±‚**ï¼šéœ€è¦ç¢ºèªæ–‡å­—æ˜¯å¦æ­£ç¢ºæ”¾ç½®åœ¨è¡¨å–®æ¬„ä½ä¸­
6. **æ‰¹æ¬¡è™•ç†**ï¼šéœ€è¦å¡«å¯«å¤šå€‹è¡¨å–®æˆ–è™•ç†å¤§é‡ PDF æª”æ¡ˆ

é€™å€‹ Skill é€éæä¾›å°ˆé–€çš„è…³æœ¬å’Œå®Œæ•´çš„å·¥ä½œæµç¨‹è§£æ±ºäº†é€™äº›å•é¡Œï¼Œç‰¹åˆ¥æ˜¯é‡å°å›°é›£çš„éäº’å‹•å¼è¡¨å–®å¡«å¯«å ´æ™¯ã€‚

---

## ç›®éŒ„çµæ§‹

```
pdf/
â”œâ”€â”€ SKILL.md                                    # Skill ä¸»è¦èªªæ˜æ–‡ä»¶ï¼ˆè‹±æ–‡ï¼‰
â”œâ”€â”€ LICENSE.txt                                 # æˆæ¬Šæ¢æ¬¾
â”œâ”€â”€ README.zh-TW.md                            # æ­£é«”ä¸­æ–‡èªªæ˜æ–‡ä»¶ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ forms.md                                    # è¡¨å–®å¡«å¯«è©³ç´°æŒ‡å—
â”œâ”€â”€ reference.md                                # é€²éšåŠŸèƒ½åƒè€ƒæ–‡æª”
â””â”€â”€ scripts/                                    # Python è…³æœ¬ç›®éŒ„
    â”œâ”€â”€ fill_pdf_form_with_annotations.py      # ä½¿ç”¨è¨»è§£å¡«å¯«è¡¨å–®
    â”œâ”€â”€ fill_fillable_fields.py                # å¡«å¯«å¯äº’å‹•æ¬„ä½
    â”œâ”€â”€ create_validation_image.py             # å»ºç«‹é©—è­‰åœ–ç‰‡
    â”œâ”€â”€ convert_pdf_to_images.py               # PDF è½‰åœ–ç‰‡
    â”œâ”€â”€ extract_form_field_info.py             # æå–è¡¨å–®æ¬„ä½è³‡è¨Š
    â”œâ”€â”€ check_bounding_boxes.py                # æª¢æŸ¥é‚Šç•Œæ¡†
    â”œâ”€â”€ check_bounding_boxes_test.py           # é‚Šç•Œæ¡†æ¸¬è©¦
    â””â”€â”€ check_fillable_fields.py               # æª¢æŸ¥å¯äº’å‹•æ¬„ä½
```

---

## æª”æ¡ˆèªªæ˜

### æ ¸å¿ƒæª”æ¡ˆ

#### 1. `SKILL.md`
- **ç”¨é€”**ï¼šSkill çš„ä¸»è¦èªªæ˜æ–‡ä»¶ï¼Œæä¾›å¿«é€Ÿé–‹å§‹æŒ‡å—
- **å…§å®¹**ï¼š
  - åŸºæœ¬ PDF æ“ä½œç¯„ä¾‹ï¼ˆè®€å–ã€åˆä½µã€åˆ†å‰²ï¼‰
  - Python åº«ä½¿ç”¨æ–¹æ³•ï¼ˆpypdfã€pdfplumberã€reportlabï¼‰
  - å‘½ä»¤åˆ—å·¥å…·ä»‹ç´¹ï¼ˆpdftotextã€qpdfã€pdftkï¼‰
  - å¸¸è¦‹ä»»å‹™å¿«é€Ÿåƒè€ƒè¡¨
- **ç‰¹é»**ï¼šç°¡æ½”å¯¦ç”¨ï¼Œèšç„¦æ–¼æœ€å¸¸ç”¨çš„åŠŸèƒ½

#### 2. `forms.md`
- **ç”¨é€”**ï¼šPDF è¡¨å–®å¡«å¯«çš„å®Œæ•´å·¥ä½œæµç¨‹æŒ‡å—
- **å…§å®¹**ï¼š
  - è¡¨å–®é¡å‹è­˜åˆ¥ï¼ˆå¯äº’å‹• vs éäº’å‹•ï¼‰
  - è¦–è¦ºåˆ†æå·¥ä½œæµç¨‹
  - åº§æ¨™ç³»çµ±è½‰æ›
  - `fields.json` æ ¼å¼è¦ç¯„
  - é©—è­‰å’Œé™¤éŒ¯æ–¹æ³•
- **é‡è¦æ€§**ï¼šè™•ç†è¡¨å–®å¡«å¯«æ™‚çš„å¿…è®€æ–‡æª”

#### 3. `reference.md`
- **ç”¨é€”**ï¼šé€²éšåŠŸèƒ½å’Œè©³ç´° API åƒè€ƒ
- **å…§å®¹**ï¼š
  - pypdfium2 é€²éšç”¨æ³•
  - JavaScript åº«ï¼ˆpdf-libï¼‰
  - ç–‘é›£æ’è§£æŒ‡å—
- **é©ç”¨**ï¼šéœ€è¦è¶…å‡ºåŸºæœ¬åŠŸèƒ½çš„æƒ…æ³

### Scripts ç›®éŒ„

#### 1. `fill_pdf_form_with_annotations.py`ï¼ˆ108 è¡Œï¼‰
**åŠŸèƒ½**ï¼šä½¿ç”¨æ–‡å­—è¨»è§£ï¼ˆFreeText annotationsï¼‰å¡«å¯« PDF è¡¨å–®

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- è®€å– `fields.json` æ ¼å¼çš„æ¬„ä½å®šç¾©
- è½‰æ›åœ–ç‰‡åº§æ¨™åˆ° PDF åº§æ¨™ç³»çµ±
- æ·»åŠ æ–‡å­—è¨»è§£åˆ°æŒ‡å®šä½ç½®
- æ”¯æ´å­—å‹ã€å­—é«”å¤§å°å’Œé¡è‰²è¨­å®š

**åº§æ¨™è½‰æ›é‚è¼¯**ï¼š
```python
def transform_coordinates(bbox, image_width, image_height, pdf_width, pdf_height):
    """è½‰æ›åº§æ¨™ï¼šåœ–ç‰‡åº§æ¨™ â†’ PDF åº§æ¨™"""
    # åœ–ç‰‡åº§æ¨™ï¼šåŸé»åœ¨å·¦ä¸Šè§’ï¼ŒY å‘ä¸‹å¢åŠ 
    # PDF åº§æ¨™ï¼šåŸé»åœ¨å·¦ä¸‹è§’ï¼ŒY å‘ä¸Šå¢åŠ 

    x_scale = pdf_width / image_width
    y_scale = pdf_height / image_height

    left = bbox[0] * x_scale
    right = bbox[2] * x_scale

    # ç¿»è½‰ Y åº§æ¨™
    top = pdf_height - (bbox[1] * y_scale)
    bottom = pdf_height - (bbox[3] * y_scale)

    return left, bottom, right, top
```

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```bash
python fill_pdf_form_with_annotations.py input.pdf fields.json output.pdf
```

#### 2. `create_validation_image.py`ï¼ˆ42 è¡Œï¼‰
**åŠŸèƒ½**ï¼šå»ºç«‹é©—è­‰åœ–ç‰‡ï¼Œè¦–è¦ºåŒ–é¡¯ç¤ºé‚Šç•Œæ¡†ä½ç½®

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- åœ¨åŸå§‹åœ–ç‰‡ä¸Šç¹ªè£½çŸ©å½¢æ¡†
- ç´…è‰²æ¡†ï¼šentry_bounding_boxï¼ˆå¡«å¯«å€åŸŸï¼‰
- è—è‰²æ¡†ï¼šlabel_bounding_boxï¼ˆæ¨™ç±¤å€åŸŸï¼‰
- è¼¸å‡ºæ¨™è¨»å¾Œçš„åœ–ç‰‡ä¾›è¦–è¦ºæª¢æŸ¥

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```bash
python create_validation_image.py 1 fields.json page-1.jpg validation-1.jpg
```

**æ‡‰ç”¨åƒ¹å€¼**ï¼š
- å¿«é€Ÿæª¢æŸ¥é‚Šç•Œæ¡†æ˜¯å¦æ­£ç¢ºå°é½Š
- è¦–è¦ºåŒ–é™¤éŒ¯ï¼Œé¿å…æ–‡å­—æ”¾ç½®éŒ¯èª¤
- åœ¨å¡«å¯«å‰é©—è­‰åº§æ¨™æº–ç¢ºæ€§

#### 3. `check_bounding_boxes.py`ï¼ˆ71 è¡Œï¼‰
**åŠŸèƒ½**ï¼šé©—è­‰ `fields.json` ä¸­çš„é‚Šç•Œæ¡†æ˜¯å¦æœ‰é‡ç–Šæˆ–éŒ¯èª¤

**æª¢æŸ¥é …ç›®**ï¼š
1. **é‡ç–Šæª¢æ¸¬**ï¼š
   - åŒä¸€é é¢çš„é‚Šç•Œæ¡†ä¸æ‡‰é‡ç–Š
   - æ¨™ç±¤å’Œå¡«å¯«å€åŸŸä¹‹é–“ä¹Ÿä¸æ‡‰é‡ç–Š

2. **é«˜åº¦é©—è­‰**ï¼š
   - entry_bounding_box çš„é«˜åº¦å¿…é ˆè¶³å¤ å®¹ç´æ–‡å­—
   - æª¢æŸ¥ `font_size` æ˜¯å¦èˆ‡æ¡†é«˜åº¦ç›¸å®¹

**éŒ¯èª¤ç¯„ä¾‹**ï¼š
```
FAILURE: intersection between label and entry bounding boxes
for `Full Name` ([10, 50, 100, 70], [90, 50, 200, 70])

FAILURE: entry bounding box height (12) for `Email` is too short
for the text content (font size: 14). Increase box height or decrease font size.
```

**æˆåŠŸè¼¸å‡º**ï¼š
```
Read 15 fields
SUCCESS: All bounding boxes are valid
```

#### 4. `fill_fillable_fields.py`
**åŠŸèƒ½**ï¼šå¡«å¯« PDF çš„å¯äº’å‹•æ¬„ä½ï¼ˆfillable fieldsï¼‰

**é©ç”¨å ´æ™¯**ï¼š
- PDF æœ‰å…§å»ºå¯äº’å‹•è¡¨å–®æ¬„ä½
- ä½¿ç”¨ Adobe Acrobat æˆ–é¡ä¼¼å·¥å…·å»ºç«‹çš„è¡¨å–®

#### 5. `extract_form_field_info.py`
**åŠŸèƒ½**ï¼šæå– PDF ä¸­æ‰€æœ‰å¯äº’å‹•æ¬„ä½çš„è³‡è¨Š

**è¼¸å‡ºè³‡è¨Š**ï¼š
- æ¬„ä½åç¨±
- æ¬„ä½é¡å‹ï¼ˆæ–‡å­—ã€æ ¸å–æ–¹å¡Šã€ä¸‹æ‹‰é¸å–®ç­‰ï¼‰
- ç•¶å‰å€¼
- ä½ç½®è³‡è¨Š

#### 6. `convert_pdf_to_images.py`
**åŠŸèƒ½**ï¼šå°‡ PDF é é¢è½‰æ›ç‚ºåœ–ç‰‡

**ç”¨é€”**ï¼š
- è¦–è¦ºåˆ†æè¡¨å–®çµæ§‹
- ä½¿ç”¨ Claude çš„è¦–è¦ºèƒ½åŠ›è­˜åˆ¥æ¬„ä½
- å»ºç«‹é©—è­‰åœ–ç‰‡çš„åŸºç¤

#### 7. `check_fillable_fields.py`
**åŠŸèƒ½**ï¼šæª¢æŸ¥ PDF æ˜¯å¦æœ‰å¯äº’å‹•æ¬„ä½

**è¼¸å‡º**ï¼š
- æ˜¯å¦æœ‰ fillable fields
- æ¬„ä½æ•¸é‡å’Œé¡å‹

---

## é—œéµè…³æœ¬åˆ†æ

### fill_pdf_form_with_annotations.py æ·±åº¦åˆ†æ

#### 1. åº§æ¨™ç³»çµ±è½‰æ›

**å…©ç¨®åº§æ¨™ç³»çµ±**ï¼š

**åœ–ç‰‡åº§æ¨™ç³»çµ±**ï¼ˆClaude è¦–è¦ºåˆ†æä½¿ç”¨ï¼‰ï¼š
```
(0,0) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º X
  â”‚
  â”‚    [åœ–ç‰‡å…§å®¹]
  â”‚
  â–¼
  Y
```
- åŸé»ï¼šå·¦ä¸Šè§’
- X è»¸ï¼šå‘å³ç‚ºæ­£
- Y è»¸ï¼šå‘ä¸‹ç‚ºæ­£

**PDF åº§æ¨™ç³»çµ±**ï¼ˆPDF è¦ç¯„ï¼‰ï¼š
```
  â–²
  â”‚
  Y    [PDF å…§å®¹]
  â”‚
  â”‚
(0,0) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º X
```
- åŸé»ï¼šå·¦ä¸‹è§’
- X è»¸ï¼šå‘å³ç‚ºæ­£
- Y è»¸ï¼šå‘ä¸Šç‚ºæ­£

**è½‰æ›å…¬å¼**ï¼š
```python
# X è»¸ï¼šåªéœ€ç¸®æ”¾
pdf_x = image_x * (pdf_width / image_width)

# Y è»¸ï¼šç¸®æ”¾ + ç¿»è½‰
pdf_y = pdf_height - (image_y * (pdf_height / image_height))
```

#### 2. fields.json æ ¼å¼

**çµæ§‹èªªæ˜**ï¼š
```json
{
  "pages": [
    {
      "page_number": 1,
      "image_width": 1700,
      "image_height": 2200
    }
  ],
  "form_fields": [
    {
      "page_number": 1,
      "description": "Full Name",
      "label_bounding_box": [50, 100, 200, 130],
      "entry_bounding_box": [210, 100, 500, 130],
      "entry_text": {
        "text": "John Doe",
        "font": "Arial",
        "font_size": 12,
        "font_color": "000000"
      }
    }
  ]
}
```

**æ¬„ä½èªªæ˜**ï¼š
- `page_number`ï¼šé ç¢¼ï¼ˆ1-basedï¼‰
- `description`ï¼šæ¬„ä½æè¿°ï¼ˆä¾›äººé–±è®€ï¼‰
- `label_bounding_box`ï¼šæ¨™ç±¤å€åŸŸ `[x1, y1, x2, y2]`
- `entry_bounding_box`ï¼šå¡«å¯«å€åŸŸ `[x1, y1, x2, y2]`
- `entry_text.text`ï¼šè¦å¡«å…¥çš„æ–‡å­—
- `entry_text.font`ï¼šå­—å‹åç¨±
- `entry_text.font_size`ï¼šå­—é«”å¤§å°ï¼ˆé»ï¼‰
- `entry_text.font_color`ï¼šRGB åå…­é€²ä½é¡è‰²ï¼ˆä¸å« #ï¼‰

#### 3. FreeText è¨»è§£çš„ä½¿ç”¨

**ç‚ºä»€éº¼ä½¿ç”¨ FreeText è¨»è§£**ï¼š
- å¯ä»¥æ”¾ç½®åœ¨ PDF çš„ä»»æ„ä½ç½®
- ä¸éœ€è¦ PDF æœ‰é å…ˆå®šç¾©çš„è¡¨å–®æ¬„ä½
- é©åˆè™•ç†æƒæç‰ˆæˆ–åœ–ç‰‡å‹ PDF
- æ”¯æ´å­—å‹ã€å¤§å°ã€é¡è‰²çš„è‡ªè¨‚

**é™åˆ¶**ï¼š
```python
# å·²çŸ¥å•é¡Œï¼šå­—é«”å¤§å°å’Œé¡è‰²åœ¨ä¸åŒ PDF æª¢è¦–å™¨ä¸­å¯èƒ½é¡¯ç¤ºä¸ä¸€è‡´
# åƒè€ƒï¼šhttps://github.com/py-pdf/pypdf/issues/2084
annotation = FreeText(
    text=text,
    rect=transformed_entry_box,
    font=font_name,
    font_size=font_size,  # å¯èƒ½ä¸å®Œå…¨ç”Ÿæ•ˆ
    font_color=font_color,  # å¯èƒ½ä¸å®Œå…¨ç”Ÿæ•ˆ
    border_color=None,
    background_color=None,
)
```

### create_validation_image.py æ·±åº¦åˆ†æ

#### è¦–è¦ºåŒ–é©—è­‰çš„é‡è¦æ€§

**å•é¡Œå ´æ™¯**ï¼š
```
Claude åˆ†æåœ–ç‰‡å¾Œçµ¦å‡ºé‚Šç•Œæ¡†ï¼š
label_bounding_box: [50, 100, 200, 130]
entry_bounding_box: [210, 100, 500, 130]

é€™äº›åº§æ¨™å°å—ï¼Ÿæ˜¯å¦æ­£ç¢ºå°é½Šæ¬„ä½ï¼Ÿ
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# å»ºç«‹é©—è­‰åœ–ç‰‡
python create_validation_image.py 1 fields.json page-1.jpg validation-1.jpg

# Claude è®€å– validation-1.jpg
# è¦–è¦ºæª¢æŸ¥ï¼š
# - ç´…æ¡†æ˜¯å¦åœ¨å¡«å¯«å€åŸŸï¼Ÿ
# - è—æ¡†æ˜¯å¦åœ¨æ¨™ç±¤æ–‡å­—ï¼Ÿ
# - æ˜¯å¦æœ‰é‡ç–Šï¼Ÿ
```

**å„ªé»**ï¼š
- è¦–è¦ºåŒ–æ¯”æ•¸å­—æ›´ç›´è§€
- å¿«é€Ÿç™¼ç¾å°é½ŠéŒ¯èª¤
- é¿å…å¡«å¯«å¾Œæ‰ç™¼ç¾å•é¡Œ

### check_bounding_boxes.py æ·±åº¦åˆ†æ

#### 1. é‡ç–Šæª¢æ¸¬æ¼”ç®—æ³•

**æ•¸å­¸åŸç†**ï¼š
```python
def rects_intersect(r1, r2):
    """å…©çŸ©å½¢æ˜¯å¦ç›¸äº¤"""
    # r1, r2 æ ¼å¼ï¼š[x1, y1, x2, y2]

    # æ°´å¹³åˆ†é›¢ï¼šr1 å®Œå…¨åœ¨ r2 å·¦å´æˆ–å³å´
    disjoint_horizontal = r1[0] >= r2[2] or r1[2] <= r2[0]

    # å‚ç›´åˆ†é›¢ï¼šr1 å®Œå…¨åœ¨ r2 ä¸Šæ–¹æˆ–ä¸‹æ–¹
    disjoint_vertical = r1[1] >= r2[3] or r1[3] <= r2[1]

    # ç›¸äº¤ = å…©å€‹æ–¹å‘éƒ½æœªåˆ†é›¢
    return not (disjoint_horizontal or disjoint_vertical)
```

**æª¢æŸ¥ç¯„åœ**ï¼š
- åŒä¸€é é¢çš„æ‰€æœ‰çŸ©å½¢å…©å…©æ¯”è¼ƒ
- åŒ…æ‹¬æ¨™ç±¤å’Œå¡«å¯«å€åŸŸ
- æ™‚é–“è¤‡é›œåº¦ï¼šO(NÂ²)

#### 2. é«˜åº¦é©—è­‰

**æª¢æŸ¥é‚è¼¯**ï¼š
```python
if ri.rect_type == "entry":
    if "entry_text" in ri.field:
        font_size = ri.field["entry_text"].get("font_size", 14)
        entry_height = ri.rect[3] - ri.rect[1]

        # æ¡†é«˜åº¦å¿…é ˆ >= å­—é«”å¤§å°
        if entry_height < font_size:
            # éŒ¯èª¤ï¼šæ–‡å­—æœƒè¢«è£åˆ‡
```

**å¸¸è¦‹å•é¡Œ**ï¼š
```
å­—é«”å¤§å°ï¼š14pt
æ¡†é«˜åº¦ï¼š12px
çµæœï¼šæ–‡å­—ç„¡æ³•å®Œæ•´é¡¯ç¤º
```

#### 3. éŒ¯èª¤é™åˆ¶æ©Ÿåˆ¶

**é˜²æ­¢éŒ¯èª¤æ·¹æ²’**ï¼š
```python
if len(messages) >= 20:
    messages.append("Aborting further checks; fix bounding boxes and try again")
    return messages
```

**è¨­è¨ˆç†å¿µ**ï¼š
- ä¸€æ¬¡ä¿®æ­£ 20 å€‹éŒ¯èª¤å·²ç¶“å¾ˆå¤š
- éå¤šéŒ¯èª¤è¡¨ç¤ºæ•´é«”æ–¹æ³•å¯èƒ½æœ‰å•é¡Œ
- ä¿®æ­£ä¸€æ‰¹å¾Œé‡æ–°æª¢æŸ¥æ›´æœ‰æ•ˆ

---

## è¨­è¨ˆç­–ç•¥

### 1. è¡¨å–®å¡«å¯«å·¥ä½œæµç¨‹è¨­è¨ˆ

**åˆ†å±¤ç­–ç•¥**ï¼š

**ç¬¬ä¸€å±¤ï¼šæª¢æŸ¥è¡¨å–®é¡å‹**
```bash
python check_fillable_fields.py form.pdf
```
- æœ‰ fillable fields â†’ ä½¿ç”¨ç°¡å–®æ–¹æ³•
- ç„¡ fillable fields â†’ ä½¿ç”¨è¦–è¦ºåˆ†ææ–¹æ³•

**ç¬¬äºŒå±¤ï¼šè¦–è¦ºåˆ†æï¼ˆé‡å°éäº’å‹•å¼è¡¨å–®ï¼‰**
```
1. è½‰æ› PDF ç‚ºåœ–ç‰‡
2. Claude è¦–è¦ºåˆ†æè­˜åˆ¥æ¬„ä½
3. å»ºç«‹ fields.json
4. é©—è­‰é‚Šç•Œæ¡†
5. å¡«å¯«è¡¨å–®
6. è¦–è¦ºé©—è­‰çµæœ
```

**ç¬¬ä¸‰å±¤ï¼šé©—è­‰èˆ‡ä¿®æ­£**
```
check_bounding_boxes.py  â†’  ä¿®æ­£é‡ç–Š
create_validation_image.py â†’ è¦–è¦ºæª¢æŸ¥
é‡è¤‡ç›´åˆ°æ­£ç¢º
```

### 2. åº§æ¨™ç³»çµ±æŠ½è±¡åŒ–

**çµ±ä¸€ä»‹é¢**ï¼š
```json
{
  "entry_bounding_box": [x1, y1, x2, y2]
}
```
- Claude ä½¿ç”¨åœ–ç‰‡åº§æ¨™ï¼ˆè¦–è¦ºç›´è§€ï¼‰
- è…³æœ¬è‡ªå‹•è½‰æ›ç‚º PDF åº§æ¨™ï¼ˆæŠ€è¡“æ­£ç¢ºï¼‰
- ä½¿ç”¨è€…ä¸éœ€ç†è§£åº§æ¨™ç³»çµ±å·®ç•°

### 3. é©—è­‰å„ªå…ˆ

**å¤šé‡é©—è­‰æ©Ÿåˆ¶**ï¼š
1. **çµæ§‹é©—è­‰**ï¼š`check_bounding_boxes.py`
2. **è¦–è¦ºé©—è­‰**ï¼š`create_validation_image.py`
3. **çµæœé©—è­‰**ï¼šè®€å–å¡«å¯«å¾Œçš„ PDF

**å¤±æ•—å¿«é€ŸåŸå‰‡**ï¼š
- åœ¨å¡«å¯«å‰ç™¼ç¾å•é¡Œï¼ˆä¾¿å®œï¼‰
- é¿å…å¡«å¯«å¾Œæ‰ç™¼ç¾ï¼ˆæ˜‚è²´ï¼‰

### 4. æ‰¹æ¬¡è™•ç†å‹å¥½

**è¨­è¨ˆè€ƒé‡**ï¼š
```python
# fields.json å¯ä»¥åŒ…å«å¤šå€‹é é¢ã€å¤šå€‹æ¬„ä½
{
  "pages": [
    {"page_number": 1, ...},
    {"page_number": 2, ...},
    {"page_number": 3, ...}
  ],
  "form_fields": [
    // æ‰€æœ‰é é¢çš„æ‰€æœ‰æ¬„ä½
  ]
}

# ä¸€æ¬¡è…³æœ¬å‘¼å«è™•ç†æ•´ä»½è¡¨å–®
python fill_pdf_form_with_annotations.py form.pdf fields.json filled.pdf
```

---

## Claude Code ä½¿ç”¨æ–¹å¼

### è§¸ç™¼æ™‚æ©Ÿ

Claude Code æœƒåœ¨ä»¥ä¸‹æƒ…æ³ä½¿ç”¨æ­¤ Skillï¼š

1. **éœ€è¦å¡«å¯« PDF è¡¨å–®**
   - ç¯„ä¾‹ï¼šã€Œå¡«å¯«é€™ä»½ç”³è«‹è¡¨ã€
   - ç¯„ä¾‹ï¼šã€Œåœ¨é€™å€‹ PDF è¡¨å–®ä¸­è¼¸å…¥è³‡æ–™ã€

2. **éœ€è¦æå– PDF æ–‡å­—æˆ–è¡¨æ ¼**
   - ç¯„ä¾‹ï¼šã€Œè®€å–é€™ä»½ PDF çš„å…§å®¹ã€
   - ç¯„ä¾‹ï¼šã€Œæå– PDF ä¸­çš„è¡¨æ ¼è³‡æ–™ã€

3. **éœ€è¦åˆä½µæˆ–åˆ†å‰² PDF**
   - ç¯„ä¾‹ï¼šã€Œåˆä½µé€™ä¸‰å€‹ PDF æª”æ¡ˆã€
   - ç¯„ä¾‹ï¼šã€Œå°‡ PDF çš„ç¬¬ 1-5 é æå–å‡ºä¾†ã€

4. **éœ€è¦å»ºç«‹ PDF**
   - ç¯„ä¾‹ï¼šã€Œå»ºç«‹ä¸€ä»½åŒ…å«é€™äº›è³‡æ–™çš„ PDFã€
   - ç¯„ä¾‹ï¼šã€Œç”Ÿæˆå ±å‘Š PDFã€

5. **éœ€è¦è™•ç† PDF å±¬æ€§**
   - ç¯„ä¾‹ï¼šã€Œç‚º PDF æ·»åŠ å¯†ç¢¼ä¿è­·ã€
   - ç¯„ä¾‹ï¼šã€Œæ—‹è½‰ PDF é é¢ã€

### å…¸å‹å·¥ä½œæµç¨‹

#### å·¥ä½œæµç¨‹ 1ï¼šå¡«å¯«å¯äº’å‹•è¡¨å–®

```bash
# æ­¥é©Ÿ 1ï¼šæª¢æŸ¥æ˜¯å¦æœ‰ fillable fields
python check_fillable_fields.py form.pdf

# æ­¥é©Ÿ 2ï¼šæå–æ¬„ä½è³‡è¨Š
python extract_form_field_info.py form.pdf > fields_info.json

# æ­¥é©Ÿ 3ï¼šæº–å‚™å¡«å¯«è³‡æ–™
# Claude å»ºç«‹è³‡æ–™ JSON

# æ­¥é©Ÿ 4ï¼šå¡«å¯«è¡¨å–®
python fill_fillable_fields.py form.pdf data.json filled.pdf
```

#### å·¥ä½œæµç¨‹ 2ï¼šå¡«å¯«éäº’å‹•å¼è¡¨å–®ï¼ˆè¦–è¦ºåˆ†æï¼‰

```bash
# æ­¥é©Ÿ 1ï¼šæª¢æŸ¥è¡¨å–®é¡å‹
python check_fillable_fields.py form.pdf
# è¼¸å‡ºï¼šNo fillable fields found

# æ­¥é©Ÿ 2ï¼šè½‰æ›ç‚ºåœ–ç‰‡
python convert_pdf_to_images.py form.pdf

# æ­¥é©Ÿ 3ï¼šClaude è¦–è¦ºåˆ†æ
# - è®€å–åœ–ç‰‡
# - è­˜åˆ¥æ¨™ç±¤å’Œå¡«å¯«å€åŸŸ
# - å»ºç«‹ fields.json

# æ­¥é©Ÿ 4ï¼šé©—è­‰é‚Šç•Œæ¡†
python check_bounding_boxes.py fields.json
# ä¿®æ­£ä»»ä½•é‡ç–Šæˆ–é«˜åº¦å•é¡Œ

# æ­¥é©Ÿ 5ï¼šå»ºç«‹é©—è­‰åœ–ç‰‡
python create_validation_image.py 1 fields.json page-1.jpg validation-1.jpg
# Claude è®€å– validation-1.jpg ä¸¦è¦–è¦ºç¢ºèª

# æ­¥é©Ÿ 6ï¼šå¡«å¯«è¡¨å–®
python fill_pdf_form_with_annotations.py form.pdf fields.json filled.pdf

# æ­¥é©Ÿ 7ï¼šé©—è­‰çµæœ
# è½‰æ› filled.pdf ç‚ºåœ–ç‰‡ä¸¦è¦–è¦ºæª¢æŸ¥
```

#### å·¥ä½œæµç¨‹ 3ï¼šæå–è¡¨æ ¼è³‡æ–™

```python
# ä½¿ç”¨ pdfplumber
import pdfplumber
import pandas as pd

with pdfplumber.open("document.pdf") as pdf:
    all_tables = []
    for page in pdf.pages:
        tables = page.extract_tables()
        for table in tables:
            if table:
                df = pd.DataFrame(table[1:], columns=table[0])
                all_tables.append(df)

    # åˆä½µæ‰€æœ‰è¡¨æ ¼
    combined_df = pd.concat(all_tables, ignore_index=True)
    combined_df.to_excel("extracted_tables.xlsx", index=False)
```

#### å·¥ä½œæµç¨‹ 4ï¼šåˆä½µ PDF

```python
from pypdf import PdfWriter, PdfReader

writer = PdfWriter()
for pdf_file in ["doc1.pdf", "doc2.pdf", "doc3.pdf"]:
    reader = PdfReader(pdf_file)
    for page in reader.pages:
        writer.add_page(page)

with open("merged.pdf", "wb") as output:
    writer.write(output)
```

### ä¸ä½¿ç”¨æ­¤ Skill çš„æƒ…æ³
- Word æ–‡ä»¶è™•ç†ï¼ˆä½¿ç”¨ docx skillï¼‰
- Excel è©¦ç®—è¡¨ï¼ˆä½¿ç”¨ xlsx skillï¼‰
- PowerPoint ç°¡å ±ï¼ˆä½¿ç”¨ pptx skillï¼‰
- ç´”æ–‡å­—æª”æ¡ˆï¼ˆä½¿ç”¨åŸºæœ¬æª”æ¡ˆæ“ä½œï¼‰

---

## æŠ€è¡“æ¶æ§‹

### æŠ€è¡“å †ç–Š

**Python ç”Ÿæ…‹ç³»**ï¼š
```
pypdf          # PDF è®€å¯«ã€åˆä½µã€åˆ†å‰²ã€è¨»è§£
pdfplumber     # æ–‡å­—å’Œè¡¨æ ¼æå–ï¼ˆä¿ç•™ç‰ˆé¢ï¼‰
reportlab      # å»ºç«‹ PDF
Pillow (PIL)   # åœ–ç‰‡è™•ç†ï¼ˆé©—è­‰åœ–ç‰‡ï¼‰
pytesseract    # OCRï¼ˆæƒæç‰ˆ PDFï¼‰
pdf2image      # PDF è½‰åœ–ç‰‡
```

**å‘½ä»¤åˆ—å·¥å…·**ï¼š
```
pdftotext      # æ–‡å­—æå–ï¼ˆpoppler-utilsï¼‰
pdftoppm       # PDF è½‰åœ–ç‰‡ï¼ˆpoppler-utilsï¼‰
qpdf           # PDF æ“ä½œï¼ˆåˆä½µã€åˆ†å‰²ã€è§£å¯†ï¼‰
pdftk          # PDF å·¥å…·åŒ…ï¼ˆå¦‚æœå¯ç”¨ï¼‰
```

**JavaScript ç”Ÿæ…‹**ï¼ˆé€²éšç”¨æ³•ï¼Œè¦‹ reference.mdï¼‰ï¼š
```
pdf-lib        # PDF å»ºç«‹å’Œç·¨è¼¯
```

### ä¾è³´é—œä¿‚åœ–

```
PDF è¡¨å–®å¡«å¯«å·¥ä½œæµç¨‹
â”œâ”€â”€ è¡¨å–®é¡å‹æª¢æŸ¥
â”‚   â””â”€â”€ check_fillable_fields.py
â”‚       â””â”€â”€ pypdf.PdfReader
â”œâ”€â”€ è¦–è¦ºåˆ†æè·¯å¾‘ï¼ˆéäº’å‹•å¼è¡¨å–®ï¼‰
â”‚   â”œâ”€â”€ convert_pdf_to_images.py
â”‚   â”‚   â””â”€â”€ pdf2image
â”‚   â”œâ”€â”€ Claude è¦–è¦ºåˆ†æ â†’ fields.json
â”‚   â”œâ”€â”€ check_bounding_boxes.py
â”‚   â”‚   â””â”€â”€ å¹¾ä½•è¨ˆç®—ï¼ˆé‡ç–Šæª¢æ¸¬ï¼‰
â”‚   â”œâ”€â”€ create_validation_image.py
â”‚   â”‚   â””â”€â”€ PIL (Image, ImageDraw)
â”‚   â””â”€â”€ fill_pdf_form_with_annotations.py
â”‚       â”œâ”€â”€ pypdf (PdfReader, PdfWriter)
â”‚       â””â”€â”€ pypdf.annotations.FreeText
â””â”€â”€ äº’å‹•å¼è¡¨å–®è·¯å¾‘
    â”œâ”€â”€ extract_form_field_info.py
    â””â”€â”€ fill_fillable_fields.py
```

### PDF åº§æ¨™ç³»çµ±

**é é¢åº§æ¨™**ï¼š
```
PDF é é¢åº§æ¨™ï¼ˆå–®ä½ï¼šé» pointsï¼Œ1/72 è‹±å¯¸ï¼‰

height â–²
       â”‚  (left, top) â”€â”€â”€â”€â”€â”€â”
       â”‚      â”‚              â”‚
       â”‚      â”‚   æ–‡å­—å€åŸŸ   â”‚
       â”‚      â”‚              â”‚
       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (right, bottom)
       â”‚
     0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º width
     (0,0)
```

**çŸ©å½¢å®šç¾©**ï¼š
```python
rect = (left, bottom, right, top)  # pypdf æ ¼å¼
bbox = [x1, y1, x2, y2]            # é€šç”¨æ ¼å¼ï¼ˆåœ–ç‰‡åº§æ¨™ï¼‰
```

---

## ä½¿ç”¨çš„ Prompt ç­–ç•¥

### 1. åˆ†å±¤å·¥ä½œæµç¨‹æŒ‡å¼•

**forms.md æä¾›æ±ºç­–æ¨¹**ï¼š
```
éœ€è¦å¡«å¯« PDF è¡¨å–®
â”œâ”€ æª¢æŸ¥è¡¨å–®é¡å‹
â”‚   â”œâ”€ æœ‰ fillable fields â†’ ç°¡å–®å·¥ä½œæµç¨‹
â”‚   â””â”€ ç„¡ fillable fields â†’ è¦–è¦ºåˆ†æå·¥ä½œæµç¨‹
â””â”€ è¦–è¦ºåˆ†æå·¥ä½œæµç¨‹
    â”œâ”€ æ­¥é©Ÿ 1ï¼šè½‰æ›ç‚ºåœ–ç‰‡
    â”œâ”€ æ­¥é©Ÿ 2ï¼šè¦–è¦ºåˆ†æ
    â”œâ”€ æ­¥é©Ÿ 3ï¼šé©—è­‰
    â”œâ”€ æ­¥é©Ÿ 4ï¼šå¡«å¯«
    â””â”€ æ­¥é©Ÿ 5ï¼šç¢ºèª
```

### 2. çµæ§‹åŒ–è³‡æ–™æ ¼å¼

**fields.json è¦ç¯„**ï¼š
- æ¸…æ¥šå®šç¾©æ¯å€‹æ¬„ä½çš„çµæ§‹
- æä¾›ç¯„ä¾‹ JSON
- èªªæ˜å¿…å¡«å’Œé¸å¡«å±¬æ€§
- åº§æ¨™æ ¼å¼æ¨™æº–åŒ–

### 3. è¦–è¦ºé©—è­‰å¼·èª¿

**å¤šè™•å¼·èª¿é©—è­‰çš„é‡è¦æ€§**ï¼š
```markdown
**CRITICAL**: Always create validation images before filling forms
**IMPORTANT**: Visually verify bounding boxes are correctly aligned
**NOTE**: Check validation image for any overlapping boxes
```

### 4. éŒ¯èª¤é é˜²æç¤º

**å¸¸è¦‹éŒ¯èª¤è­¦å‘Š**ï¼š
```markdown
âš ï¸ Common mistakes:
- Swapping label and entry bounding boxes
- Using image coordinates instead of transforming to PDF coordinates
- Font size larger than entry box height
- Overlapping bounding boxes
```

---

## ä½¿ç”¨çš„å·¥å…·ï¼ˆToolsï¼‰

æ­¤ Skill ä¸»è¦ä¾è³´ä»¥ä¸‹ Claude Code å·¥å…·ï¼š

### 1. **Read Tool**
- è®€å– SKILL.mdã€forms.mdã€reference.md
- è®€å–è…³æœ¬å…§å®¹
- è®€å– PDF è½‰æ›å¾Œçš„åœ–ç‰‡ï¼ˆè¦–è¦ºåˆ†æï¼‰
- è®€å–é©—è­‰åœ–ç‰‡ï¼ˆç¢ºèªé‚Šç•Œæ¡†ï¼‰
- è®€å– fields.jsonï¼ˆæª¢æŸ¥æ ¼å¼ï¼‰

### 2. **Write Tool**
- å»ºç«‹ fields.jsonï¼ˆåŸºæ–¼è¦–è¦ºåˆ†æï¼‰
- å»ºç«‹ Python è…³æœ¬ï¼ˆè‡ªè¨‚ PDF æ“ä½œï¼‰
- æ’°å¯«è³‡æ–™æª”æ¡ˆï¼ˆè¡¨å–®å¡«å¯«è³‡æ–™ï¼‰

### 3. **Bash Tool**
- åŸ·è¡Œ PDF è½‰åœ–ç‰‡è…³æœ¬
- åŸ·è¡Œé‚Šç•Œæ¡†æª¢æŸ¥
- åŸ·è¡Œé©—è­‰åœ–ç‰‡å»ºç«‹
- åŸ·è¡Œè¡¨å–®å¡«å¯«è…³æœ¬
- åŸ·è¡Œ pdftotextã€qpdf ç­‰å‘½ä»¤åˆ—å·¥å…·

### 4. **Edit Tool**
- ä¿®æ­£ fields.jsonï¼ˆåŸºæ–¼é©—è­‰çµæœï¼‰
- èª¿æ•´è…³æœ¬åƒæ•¸

---

## æœ€ä½³å¯¦è¸

### 1. è¡¨å–®å¡«å¯«æµç¨‹

**âœ… å»ºè­°åšæ³•**ï¼š
```bash
# 1. æ°¸é å…ˆæª¢æŸ¥è¡¨å–®é¡å‹
python check_fillable_fields.py form.pdf

# 2. å»ºç«‹é©—è­‰åœ–ç‰‡
python create_validation_image.py 1 fields.json page-1.jpg validation-1.jpg

# 3. è¦–è¦ºç¢ºèªå¾Œå†å¡«å¯«
# è®€å– validation-1.jpgï¼Œç¢ºèªç´…æ¡†å’Œè—æ¡†ä½ç½®æ­£ç¢º

# 4. æª¢æŸ¥é‚Šç•Œæ¡†
python check_bounding_boxes.py fields.json

# 5. å¡«å¯«è¡¨å–®
python fill_pdf_form_with_annotations.py form.pdf fields.json filled.pdf
```

**âŒ é¿å…åšæ³•**ï¼š
```bash
# ç›´æ¥å¡«å¯«ï¼Œä¸é©—è­‰
python fill_pdf_form_with_annotations.py form.pdf fields.json filled.pdf
# å¯èƒ½çµæœï¼šæ–‡å­—ä½ç½®éŒ¯èª¤ã€é‡ç–Šã€è¢«è£åˆ‡
```

### 2. fields.json å»ºç«‹

**è¦–è¦ºåˆ†ææ­¥é©Ÿ**ï¼š
```
1. è®€å–è¡¨å–®åœ–ç‰‡
2. è­˜åˆ¥æ¯å€‹æ¬„ä½çš„æ¨™ç±¤æ–‡å­—
3. ç¢ºå®šæ¨™ç±¤çš„é‚Šç•Œæ¡†ï¼ˆè—æ¡†ï¼‰
4. ç¢ºå®šå¡«å¯«å€åŸŸçš„é‚Šç•Œæ¡†ï¼ˆç´…æ¡†ï¼‰
5. æ³¨æ„ï¼š
   - æ¨™ç±¤å’Œå¡«å¯«å€åŸŸé€šå¸¸æ°´å¹³å°é½Š
   - å¡«å¯«å€åŸŸé€šå¸¸åœ¨æ¨™ç±¤å³å´
   - ç¢ºä¿æ¡†ä¸é‡ç–Š
   - ç¢ºä¿æ¡†é«˜åº¦è¶³å¤ å®¹ç´æ–‡å­—
```

**å¸¸è¦‹æ¨¡å¼**ï¼š
```json
// æ°´å¹³æ’åˆ—ï¼šæ¨™ç±¤åœ¨å·¦ï¼Œå¡«å¯«åœ¨å³
{
  "label_bounding_box": [50, 100, 200, 130],
  "entry_bounding_box": [210, 100, 500, 130]
}

// å‚ç›´æ’åˆ—ï¼šæ¨™ç±¤åœ¨ä¸Šï¼Œå¡«å¯«åœ¨ä¸‹
{
  "label_bounding_box": [50, 100, 200, 120],
  "entry_bounding_box": [50, 130, 200, 160]
}
```

### 3. åº§æ¨™ç²¾ç¢ºåº¦

**å»ºè­°é‚Šç•Œ**ï¼š
```
- åœ¨æ¨™ç±¤/å¡«å¯«å€åŸŸå‘¨åœç•™ 2-5 åƒç´ ç·©è¡
- é¿å…æ¡†å¤ªå°å°è‡´æ–‡å­—è¢«è£åˆ‡
- é¿å…æ¡†å¤ªå¤§å°è‡´æ–‡å­—ä½ç½®åç§»
```

### 4. å­—å‹é¸æ“‡

**å®‰å…¨é¸æ“‡**ï¼š
```python
entry_text: {
    "font": "Arial",        # æœ€å»£æ³›æ”¯æ´
    "font_size": 12,        # æ¨™æº–å¤§å°
    "font_color": "000000"  # é»‘è‰²
}
```

**é¿å…**ï¼š
```python
# ä¸å¸¸è¦‹çš„å­—å‹å¯èƒ½ä¸è¢«æ”¯æ´
"font": "Comic Sans MS"

# éå¤§çš„å­—é«”å¯èƒ½è¶…å‡ºæ¡†
"font_size": 24  # ç¢ºä¿æ¡†é«˜åº¦ >= 24
```

### 5. æ‰¹æ¬¡è™•ç†

**è™•ç†å¤šé è¡¨å–®**ï¼š
```json
{
  "pages": [
    {"page_number": 1, "image_width": 1700, "image_height": 2200},
    {"page_number": 2, "image_width": 1700, "image_height": 2200},
    {"page_number": 3, "image_width": 1700, "image_height": 2200}
  ],
  "form_fields": [
    // ç¬¬ 1 é çš„æ¬„ä½
    {"page_number": 1, ...},
    {"page_number": 1, ...},
    // ç¬¬ 2 é çš„æ¬„ä½
    {"page_number": 2, ...},
    // ç¬¬ 3 é çš„æ¬„ä½
    {"page_number": 3, ...}
  ]
}
```

### 6. éŒ¯èª¤é™¤éŒ¯

**é€æ­¥é©—è­‰**ï¼š
```bash
# æ­¥é©Ÿ 1ï¼šæª¢æŸ¥ JSON æ ¼å¼
python -m json.tool fields.json

# æ­¥é©Ÿ 2ï¼šæª¢æŸ¥é‚Šç•Œæ¡†
python check_bounding_boxes.py fields.json

# æ­¥é©Ÿ 3ï¼šè¦–è¦ºé©—è­‰
python create_validation_image.py 1 fields.json page-1.jpg validation-1.jpg

# æ­¥é©Ÿ 4ï¼šå¡«å¯«
python fill_pdf_form_with_annotations.py form.pdf fields.json filled.pdf

# æ­¥é©Ÿ 5ï¼šè½‰æ›çµæœç‚ºåœ–ç‰‡æª¢æŸ¥
python convert_pdf_to_images.py filled.pdf
```

---

## ç¸½çµ

### æˆåŠŸè¦ç´ 

1. **è¦–è¦ºé©—è­‰æ©Ÿåˆ¶**ï¼šå»ºç«‹é©—è­‰åœ–ç‰‡é¿å…åº§æ¨™éŒ¯èª¤
2. **åº§æ¨™ç³»çµ±æŠ½è±¡**ï¼šçµ±ä¸€ä»‹é¢éš±è—è¤‡é›œæ€§
3. **å¤šé‡é©—è­‰**ï¼šçµæ§‹é©—è­‰ + è¦–è¦ºé©—è­‰ + çµæœé©—è­‰
4. **æ‰¹æ¬¡è™•ç†æ”¯æ´**ï¼šä¸€æ¬¡è™•ç†æ•´ä»½è¡¨å–®
5. **æ¸…æ¥šçš„å·¥ä½œæµç¨‹**ï¼šåˆ†å±¤æŒ‡å¼•ï¼Œé©åˆä¸åŒå ´æ™¯

### å­¸ç¿’é‡é»

å°æ–¼æƒ³è¦ç†è§£æ­¤ Skill çš„é–‹ç™¼è€…ï¼š
- PDF åº§æ¨™ç³»çµ±ï¼ˆåŸé»åœ¨å·¦ä¸‹è§’ï¼‰
- åº§æ¨™è½‰æ›ï¼ˆåœ–ç‰‡åº§æ¨™ â†” PDF åº§æ¨™ï¼‰
- FreeText è¨»è§£çš„ä½¿ç”¨å’Œé™åˆ¶
- é‚Šç•Œæ¡†é‡ç–Šæª¢æ¸¬æ¼”ç®—æ³•
- è¦–è¦ºé©—è­‰çš„é‡è¦æ€§

### é©ç”¨å ´æ™¯

æ­¤ Skill æœ€é©åˆç”¨æ–¼ï¼š
- ğŸ“ å¡«å¯«æ”¿åºœç”³è«‹è¡¨å–®
- ğŸ“‹ è™•ç†æƒæç‰ˆ PDF è¡¨å–®
- ğŸ“„ æ‰¹æ¬¡å¡«å¯«å¤šä»½ç›¸åŒè¡¨å–®
- ğŸ” æå– PDF ä¸­çš„è¡¨æ ¼è³‡æ–™
- ğŸ“Š å°‡ PDF è³‡æ–™è½‰æ›ç‚ºçµæ§‹åŒ–æ ¼å¼
- ğŸ” PDF åŠ å¯†å’Œå®‰å…¨è™•ç†

### æŠ€è¡“äº®é»

- **è¦–è¦ºåˆ†ææ•´åˆ**ï¼šçµåˆ Claude çš„è¦–è¦ºèƒ½åŠ›å’Œ Python è…³æœ¬
- **åº§æ¨™è½‰æ›è‡ªå‹•åŒ–**ï¼šä½¿ç”¨è€…ä¸éœ€ç†è§£åº§æ¨™ç³»çµ±
- **é©—è­‰å„ªå…ˆè¨­è¨ˆ**ï¼šåœ¨å¡«å¯«å‰ç™¼ç¾å•é¡Œ
- **æ‰¹æ¬¡è™•ç†å‹å¥½**ï¼šé©åˆå¤§è¦æ¨¡è¡¨å–®è™•ç†
- **å¤šå·¥å…·æ•´åˆ**ï¼špypdf + pdfplumber + PIL å®Œæ•´å·¥å…·éˆ

---

## åƒè€ƒè³‡æº

- [SKILL.md](./SKILL.md) - è‹±æ–‡åŸå§‹æ–‡æª”
- [forms.md](./forms.md) - è¡¨å–®å¡«å¯«è©³ç´°æŒ‡å—
- [reference.md](./reference.md) - é€²éšåŠŸèƒ½åƒè€ƒ
- [pypdf æ–‡æª”](https://pypdf.readthedocs.io/)
- [pdfplumber æ–‡æª”](https://github.com/jsvine/pdfplumber)
- [reportlab æ–‡æª”](https://www.reportlab.com/docs/reportlab-userguide.pdf)

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-11-14
**æ–‡ä»¶ç‰ˆæœ¬**ï¼š1.0.0
**é©ç”¨æ–¼**ï¼šClaude Code Skills
